<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" href="./images/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="./images/favicon.svg" />
  <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
  <title>Saratha Vilas Heritage Walk</title>
  
  <style>
    body{
      padding: 0;   
      margin: 0;
      overflow: hidden;
    }
  </style>
</head>
<body>

  <div id="main_container">

  </div>

  <a-scene vr-mode-ui="enabled: false" xr-mode-ui="enabled: false" cursor="rayOrigin: mouse">
  
    <a-sky></a-sky>
    
    <!-- Camera -->
    <a-entity id="camera-rig" position="0 1.6 0" rotation="0 -90 0">
      <a-camera fov="90" look-controls wasd-controls-enabled="false"></a-camera>
    </a-entity>

    <!-- Top Arrow -->
    <a-entity rotation="-90 0 0" id="top_arrow" visible="false">
      <a-circle color="white" radius="0.9" material="opacity: 0.8; transparent: true"></a-circle>
      <a-plane 
        src="./images/arrow_model2.png" 
        width="1" 
        height="1" 
        transparent="true" 
        position="0 0 0.01"
        material="shader: flat; opacity: 0.8; transparent: true">
      </a-plane>
    </a-entity>

    <!-- Bottom Arrow -->
    <a-entity rotation="-90 180 0"  id="bottom_arrow" visible="false">
      <a-circle color="white" radius="0.9" material="opacity: 0.8; transparent: true"></a-circle>
      <a-plane 
        src="./images/arrow_model2.png" 
        width="1" 
        height="1" 
        transparent="true" 
        position="0 0 0.01"
        material="shader: flat; opacity: 0.8; transparent: true">
      </a-plane>
    </a-entity>

    <!-- Exit Arrow -->
    <a-entity rotation="0 -90 90"  id="exit_arrow" visible="false">
      <a-circle color="white" radius="0.9" material="opacity: 0.8; transparent: true"></a-circle>
      <a-plane 
        src="./images/close.png" 
        width="0.8" 
        height="0.8" 
        transparent="true" 
        position="0 0 0.01"
        material="shader: flat; opacity: 0.8; transparent: true">
      </a-plane>
      <a-text value="Exit" color="black" width="4" rotation="0 0 -90" position="0 0.15 2"></a-text>
    </a-entity>

    <!-- 1 eye -->
    <a-entity id="eye1" visible="false">
      <a-circle color="black" radius="0.3" material="opacity: 0.7; transparent: true"></a-circle>
      <a-plane 
        src="./images/eye.webp" 
        width="0.3" 
        height="0.3" 
        transparent="true" 
        position="0 0 0.01"
        material="shader: flat; opacity: 0.9; transparent: true">
      </a-plane>
    </a-entity>

    <!-- 2 eye -->
    <a-entity id="eye2" visible="false">
      <a-circle color="black" radius="0.3" material="opacity: 0.7; transparent: true"></a-circle>
      <a-plane 
        src="./images/eye.webp" 
        width="0.3" 
        height="0.3" 
        transparent="true" 
        position="0 0 0.01"
        material="shader: flat; opacity: 1; transparent: true">
      </a-plane>
    </a-entity>




     <!-- 1 Hotspot -->
    <!-- <a-entity position="5 3 3" rotation="0 -90 0" id="hotspot1">
      <a-circle color="black" radius="0.2" material="opacity: 0.7; transparent: true"></a-circle>
      <a-plane 
        src="./images/hotspot.webp" 
        width="0.2" 
        height="0.2" 
        transparent="true" 
        position="0 0 0.01"
        material="shader: flat; opacity: 0.9; transparent: true">
      </a-plane>
    </a-entity> -->

     <!-- 2 Hotspot -->
    <!-- <a-entity position="5 3 0" rotation="0 -90 0" id="hotspot2">
      <a-circle color="black" radius="0.5" material="opacity: 0.7; transparent: true"></a-circle>
      <a-plane 
        src="./images/hotspot.webp" 
        width="0.6" 
        height="0.6" 
        transparent="true" 
        position="0 0 0.01"
        material="shader: flat; opacity: 0.9; transparent: true">
      </a-plane>
    </a-entity> -->
  </a-scene>

  <script>
    const sky = document.querySelector('a-sky')
    const eye1 = document.getElementById('eye1')
    const eye2 = document.getElementById('eye2')

    var top_arrow = document.getElementById('top_arrow');
    var bottom_arrow = document.getElementById('bottom_arrow');
    var exit_arrow = document.getElementById('exit_arrow');

    let left_location = right_location = top_location = bottom_location = '';
    let eye1_location = eye2_location = 0;
    
    let eye1_value = eye2_value = 0;
    let top_arrow_value = bottom_arrow_value = 0;
    
    top_arrow.addEventListener('click', () => handleDirectionClick(top_location));
    bottom_arrow.addEventListener('click', () => handleDirectionClick(bottom_location));
    
    eye1.addEventListener('click', () => handleDirectionClick(eye1_location));
    eye2.addEventListener('click', () => handleDirectionClick(eye2_location));


    const functions = {
      scene1: function() {
        sky.setAttribute('src','./images/vr_images/1.png');
        top_arrow.setAttribute('position','5 0 0.5')
        top_arrow.setAttribute('rotation','-90 0 0')
        bottom_arrow.setAttribute('rotation','-90 180 0')
        
        eye1_location='';
        eye2_location='';
        eye1_value = eye2_value = 0;
        top_arrow_value = 1;
        bottom_arrow_value = 0;
        top_location='scene2';
        bottom_location='';

        nav_icon_updater();
      },
      scene2: function(){
        sky.setAttribute('src','./images/vr_images/2.png');
        
        top_arrow.setAttribute('position','6 0 -2')
        top_arrow.setAttribute('rotation','-90 0 0')
        bottom_arrow.setAttribute('position','-7 -1 0')
        bottom_arrow.setAttribute('rotation','-90 180 0')

        eye1.setAttribute('position','8 6 -10')
        eye2.setAttribute('position','10 6 7')
        eye1.setAttribute('rotation','0 -50 0')
        eye2.setAttribute('rotation','0 -120 0')
        
        
        top_location ='scene3'
        bottom_location='scene1'

        eye1_location='scene4';
        eye2_location='scene5';
        eye1_value = eye2_value = 1;
        top_arrow_value = 1;
        bottom_arrow_value= 1;
        
        nav_icon_updater();
      },

      scene3: function(){
        sky.setAttribute('src','./images/vr_images/3.png');
        top_arrow.setAttribute('position','6 0 0')
        top_arrow.setAttribute('rotation','-90 0 0')
        bottom_arrow.setAttribute('position','-5 -2 -0.5')
        bottom_arrow.setAttribute('rotation','-90 180 0')
        
        eye1.setAttribute('position','5 5 -9')
        eye2.setAttribute('position','5 5 9')
        eye1.setAttribute('rotation','0 -50 0')
        eye2.setAttribute('rotation','0 -150 0')

        bottom_location='scene2'
        top_location ='scene6'

        eye1_location='scene4';
        eye2_location='scene5';
        eye1_value = eye2_value = 1;
        top_arrow_value = 1;
        bottom_arrow_value= 1;
        
        nav_icon_updater();
      },

      scene4: function(){
        sky.setAttribute('src','./images/vr_images/4.png');

        bottom_arrow.setAttribute('position','-5 1 -2')
        bottom_arrow.setAttribute('rotation','0 70 -90')

        bottom_location = 'scene3'

        eye1_location='';
        eye2_location='';
        eye1_value = eye2_value = 0;
        top_arrow_value = 0;
        bottom_arrow_value= 1;
        nav_icon_updater();
      },

      scene5: function(){
        sky.setAttribute('src','./images/vr_images/5.jpg');

        bottom_arrow.setAttribute('position','4 1 0')
        bottom_arrow.setAttribute('rotation','0 -90 -90')

        bottom_location = 'scene3'

        eye1_location='';
        eye2_location='';
        eye1_value = eye2_value = 0;
        top_arrow_value = 0;
        bottom_arrow_value= 1;

        nav_icon_updater();
      },

     scene6: function(){
        sky.setAttribute('src','./images/vr_images/6.png');
        top_arrow.setAttribute('position','6 0 -1')
        top_arrow.setAttribute('rotation','-90 0 0')
        bottom_arrow.setAttribute('position','-6 0 -1')
        bottom_arrow.setAttribute('rotation','-90 180 0')
        
        eye1.setAttribute('position','0 3.5 -7')
        eye2.setAttribute('position','0 3.5 7')
        eye1.setAttribute('rotation','0 0 0')
        eye2.setAttribute('rotation','0 -180 0')

        bottom_location='scene3'
        top_location ='scene9'

        eye1_location='scene7';
        eye2_location='scene8';
        eye1_value = eye2_value = 1;
        top_arrow_value = 1;
        bottom_arrow_value= 1;
        
        nav_icon_updater();
      },

      scene7: function(){
        sky.setAttribute('src','./images/vr_images/7.jpg');

        bottom_arrow.setAttribute('position','-7 2 0.2')
        bottom_arrow.setAttribute('rotation','0 90 90')

        bottom_location = 'scene6'

        eye1_location='';
        eye2_location='';
        eye1_value = eye2_value = 0;
        top_arrow_value = 0;
        bottom_arrow_value= 1;
        nav_icon_updater();
      },

      scene8: function(){
        sky.setAttribute('src','./images/vr_images/real_8.png');

        bottom_arrow.setAttribute('position','-4 2 8')
        bottom_arrow.setAttribute('rotation','0 150 90')

        bottom_location = 'scene6'

        eye1_location='';
        eye2_location='';
        eye1_value = eye2_value = 0;
        top_arrow_value = 0;
        bottom_arrow_value= 1;
        nav_icon_updater();
      },
      
      scene9: function(){
        sky.setAttribute('src','./images/vr_images/8.png');

        top_arrow.setAttribute('position','8 2 -0.5')
        top_arrow.setAttribute('rotation','0 -90 90')
        bottom_arrow.setAttribute('position','-7 0 -0.5')
        bottom_arrow.setAttribute('rotation','-90 180 0')
        
        eye1.setAttribute('position','-4 3.5 -5')
        eye1.setAttribute('rotation','0 45 0')

        bottom_location='scene6'
        top_location ='scene11'

        eye1_location='scene10';
        eye2_location='';
        eye2_value = 0;
        eye1_value = 1;
        top_arrow_value = 1;
        bottom_arrow_value= 1;
        
        nav_icon_updater();
      },

      scene10: function(){
        sky.setAttribute('src','./images/vr_images/9.jpg');

        bottom_arrow.setAttribute('position','8 1 2')
        bottom_arrow.setAttribute('rotation','0 -90 -90')

        bottom_location = 'scene9'

        eye1_location='';
        eye2_location='';
        eye1_value = eye2_value = 0;
        top_arrow_value = 0;
        bottom_arrow_value= 1;
        nav_icon_updater();
      },

      scene11: function(){
        sky.setAttribute('src','./images/vr_images/13.png');

        top_arrow.setAttribute('position','4 1 -0.5')
        top_arrow.setAttribute('rotation','-90 0 0')
        bottom_arrow.setAttribute('position','-7 2 0.7')
        bottom_arrow.setAttribute('rotation','0 90 90')

        bottom_location='scene9'
        top_location ='scene12'

        eye1_location='';
        eye2_location='';
    
        eye1_value = eye2_value= 0;
 
        top_arrow_value = bottom_arrow_value= 1;
        
        nav_icon_updater();
      },

      scene12: function(){
        sky.setAttribute('src','./images/vr_images/10.png');

        top_arrow.setAttribute('position','5 1 -0.5')
        top_arrow.setAttribute('rotation','-90 0 0')
        bottom_arrow.setAttribute('position','-5 1 -0.5')
        bottom_arrow.setAttribute('rotation','-90 180 0')
        
        eye1.setAttribute('position','-1 3.5 -5')
        eye1.setAttribute('rotation','0 0 0')

        bottom_location='scene11'
        top_location ='scene14'

        eye1_location='scene13';
        eye2_location='';
        
        eye1_value = 1;
        eye2_value= 0;
 
        top_arrow_value = bottom_arrow_value= 1;
        exit_arrow.setAttribute('position','6 100 0')
        exit_arrow.setAttribute('visible','false')
        
        nav_icon_updater();
      },

      scene13: function(){
        sky.setAttribute('src','./images/vr_images/11.jpg');

        top_arrow.setAttribute('position','8 3 -0.5')
        top_arrow.setAttribute('rotation','0 -90 90')
        

        bottom_location=''
        top_location ='scene12'

        eye1_location='';
        eye2_location='';
        
        eye1_value = eye2_value= 0;
 
        top_arrow_value = 1;
        bottom_arrow_value= 0;
        
        nav_icon_updater();
      },

      scene14: function(){
        sky.setAttribute('src','./images/vr_images/12.png');

        bottom_arrow.setAttribute('position','-8 3 1')
        bottom_arrow.setAttribute('rotation','0 90 90')
        
        eye1.setAttribute('position','-1 3.5 -5')
        eye1.setAttribute('rotation','0 0 0')

        bottom_location='scene12'
        top_location =''

        eye1_location='';
        eye2_location='';
        
        eye1_value = 0;
        eye2_value= 0;
 
        top_arrow_value = 0;
        bottom_arrow_value= 1;
        
        exit_arrow.setAttribute('position','6 2 0')
        exit_arrow.setAttribute('visible','true')
        nav_icon_updater();
      }


    }

    function nav_icon_updater(){
      top_arrow.setAttribute('visible',top_arrow_value !== 0)
      bottom_arrow.setAttribute('visible',bottom_arrow_value !== 0)
      eye1.setAttribute('visible',eye1_value !== 0)
      eye2.setAttribute('visible',eye2_value !== 0)
    }

    function handleDirectionClick(location) {
      if (location && functions[location]) {
        functions[location]();
      }
    }

    exit_arrow.addEventListener('click',()=>{
      console.log('exit')
    })

    /*Default Scene*/
    functions.scene1();
  </script>
</body>
</html>